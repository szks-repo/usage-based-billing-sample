[env]
GOEXPERIMENT = 'jsonv2'
AWS_ACCESS_KEY_ID = 'user'
AWS_SECRET_ACCESS_KEY = 'password'

[tasks.fmt]
run = 'go fmt ./...'

[tasks.container-start]
run = [
    "docker compose up -d"
]

[tasks.migrate-up]
run = 'migrate --path pkg/db/migration --database mysql://user:password@tcp(localhost:3306)/usage_based_billing -verbose up'

[tasks.migrate-down]
run = 'migrate --path pkg/db/migration --database mysql://user:password@tcp(localhost:3306)/usage_based_billing -verbose down'

[tasks.run-worker]
run = 'go run main.go receiverWorker'
description = 'Build the app'

[tasks.run-provider]
run = 'go run main.go providerApi'
description = 'Build the app'
